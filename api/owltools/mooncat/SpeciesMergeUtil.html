<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Thu Jun 11 09:23:33 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SpeciesMergeUtil (OWLTools-Parent 0.2.2-SNAPSHOT API)</title>
<meta name="date" content="2015-06-11">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SpeciesMergeUtil (OWLTools-Parent 0.2.2-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpeciesMergeUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../owltools/mooncat/QuerySubsetGenerator.html" title="class in owltools.mooncat"><span class="strong">Prev Class</span></a></li>
<li><a href="../../owltools/mooncat/SpeciesMergeUtil.UnmergeableOntologyException.html" title="class in owltools.mooncat"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?owltools/mooncat/SpeciesMergeUtil.html" target="_top">Frames</a></li>
<li><a href="SpeciesMergeUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">owltools.mooncat</div>
<h2 title="Class SpeciesMergeUtil" class="title">Class SpeciesMergeUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>owltools.mooncat.SpeciesMergeUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SpeciesMergeUtil</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This utility is for making "composite" ontologies from the combination of a
 species-specific ontology (e.g. ZFA) and a species-generic ontology (e.g.
 Uberon or CL).
 See: @{link http://purl.obolibrary.org/obo/uberon/references/reference_0000028} 
 <p>
 The goal is to avoid having a lattice of classes in the merged ontology -
 e.g. zebrafish brain, mouse brain, fly brain, generic brain, ... -- at the
 same time, as much of the species-specific logic should be retained, but in a
 way that is biologically correct and logically valid. E.g. we do not want to infer
 that all brains develop from a neural keel because the zebrafish brain does.
 We do this by merging "duplicate" classes, but retaining species axioms as
 "taxon GCIs".
 <p>
 The procedure relies on "taxonomic equivalence axioms" of the form
 
 <code>
   zfa:brain EquivalentTo ubr:brain and part_of some tax:7954
 </code>
 <p>
 These are available from URLs such as:
 <code>
   http://purl.obolibrary.org/obo/uberon/bridge/uberon-bridge-to-zfa.owl
 </code>
 <p>
 It uses a technique called "unfolding", whereby named classes (e.g.
 zfa:brain) can be replaced by an equivalent class expression (e.g. ubr:brain
 and part_of some tax:7954) whilst retaining equivalent entailments in the
 ontology.
 <p>
 E.g <code>
  zfa:brain SubClassOf develops_from some zfa:neural keel
  ==>
  (ubr:brain and part_of some tax:7954) SubClassOf develops_from some zfa:neural keel
  ==>
  (ubr:brain and part_of some tax:7954) SubClassOf develops_from some (ubr:neural keel and part_of some tax:7954)
 </code>
 <p>
 If there is no taxonomic equivalence axiom, the species class is retained.
 <p>
 In itself, this is fairly trivial, but the resulting ontology is not
 necessarily easier to work with. In particular, the unfolded axioms can't be
 represented in .obo format.
 <p>
 Additional procedures are performed - these maintain correctness, but may
 lose some information - this is the tradeoff in a multi-species composite
 ontology.
 <p>
 The key lossy transformation is to replace (X and part_of some T) with (X) --
 in cases where it is safe to do so. For now, the only place this is done is
 where the expression appears on the RHS of a SubClassOf axiom, either as the
 sole expression, or directly within a SomeValuesFrom expression.
 <p>
 For example, we can replace
 <code>
  (ubr:brain and part_of some tax:7954) SubClassOf develops_from some (ubr:neural keel and part_of some tax:7954)
  ==>
  (ubr:brain and part_of some tax:7954) SubClassOf develops_from some uber:neural keel
 </code>
 <p>
 In obo-format this is represented as:
 <p>
 <code>
 id: UBERON:nnn
 name: brain
 relationship: develops_from UBERON:mmmm {gci_relation="part_of",gci_filler="NCBITaxon:7954"} ! neural keel
 </code>

 <h2>Label replacement</h2>
 
 As an additional step, this tool will replace all remaining labels in classes that satisfy (part_of some TAXON) with
 a user-configured suffixed label.
 <p>
 For example, the class "somite 23" from EHDAA2 may have no taxonomic equivalence axiom (we don't group
 most serially homologous structures based purely on position). It would therefore not be unfolded by the
 above technique. The same for the ZFA class "somite 23". To avoid confusion, these are relabeled
 "somite 23 (zebrafish)" and "somite 23 (human)". In future we may explore the use of the obo-forundry unique
 label here.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>cjm</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.UnmergeableOntologyException.html" title="class in owltools.mooncat">SpeciesMergeUtil.UnmergeableOntologyException</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;org.semanticweb.owlapi.model.OWLObjectProperty&gt;</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#includedProperties">includedProperties</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.semanticweb.owlapi.reasoner.OWLReasoner</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#reasoner">reasoner</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#suffix">suffix</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.semanticweb.owlapi.model.OWLClass</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#taxClass">taxClass</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.semanticweb.owlapi.model.OWLObjectProperty</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#viewProperty">viewProperty</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#SpeciesMergeUtil(owltools.graph.OWLGraphWrapper)">SpeciesMergeUtil</a></strong>(<a href="../../owltools/graph/OWLGraphWrapper.html" title="class in owltools.graph">OWLGraphWrapper</a>&nbsp;g)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#createMap()">createMap</a></strong>()</code>
<div class="block">builds ecmap, a map between species-classes to generic-classes
 also populates ssClasses</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#isSkippable(org.semanticweb.owlapi.model.OWLClass)">isSkippable</a></strong>(org.semanticweb.owlapi.model.OWLClass&nbsp;c)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#merge()">merge</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.semanticweb.owlapi.model.OWLAxiom</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#tr(org.semanticweb.owlapi.model.OWLEquivalentClassesAxiom)">tr</a></strong>(org.semanticweb.owlapi.model.OWLEquivalentClassesAxiom&nbsp;ax)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.semanticweb.owlapi.model.OWLAxiom</code></td>
<td class="colLast"><code><strong><a href="../../owltools/mooncat/SpeciesMergeUtil.html#tr(org.semanticweb.owlapi.model.OWLSubClassOfAxiom)">tr</a></strong>(org.semanticweb.owlapi.model.OWLSubClassOfAxiom&nbsp;ax)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="includedProperties">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>includedProperties</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;org.semanticweb.owlapi.model.OWLObjectProperty&gt; includedProperties</pre>
</li>
</ul>
<a name="reasoner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reasoner</h4>
<pre>public&nbsp;org.semanticweb.owlapi.reasoner.OWLReasoner reasoner</pre>
</li>
</ul>
<a name="suffix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suffix</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> suffix</pre>
</li>
</ul>
<a name="viewProperty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewProperty</h4>
<pre>public&nbsp;org.semanticweb.owlapi.model.OWLObjectProperty viewProperty</pre>
</li>
</ul>
<a name="taxClass">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>taxClass</h4>
<pre>public&nbsp;org.semanticweb.owlapi.model.OWLClass taxClass</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SpeciesMergeUtil(owltools.graph.OWLGraphWrapper)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SpeciesMergeUtil</h4>
<pre>public&nbsp;SpeciesMergeUtil(<a href="../../owltools/graph/OWLGraphWrapper.html" title="class in owltools.graph">OWLGraphWrapper</a>&nbsp;g)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMap</h4>
<pre>public&nbsp;void&nbsp;createMap()</pre>
<div class="block">builds ecmap, a map between species-classes to generic-classes
 also populates ssClasses</div>
</li>
</ul>
<a name="merge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>public&nbsp;void&nbsp;merge()
           throws <a href="../../owltools/mooncat/SpeciesMergeUtil.UnmergeableOntologyException.html" title="class in owltools.mooncat">SpeciesMergeUtil.UnmergeableOntologyException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../owltools/mooncat/SpeciesMergeUtil.UnmergeableOntologyException.html" title="class in owltools.mooncat">SpeciesMergeUtil.UnmergeableOntologyException</a></code></dd></dl>
</li>
</ul>
<a name="tr(org.semanticweb.owlapi.model.OWLSubClassOfAxiom)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tr</h4>
<pre>public&nbsp;org.semanticweb.owlapi.model.OWLAxiom&nbsp;tr(org.semanticweb.owlapi.model.OWLSubClassOfAxiom&nbsp;ax)</pre>
</li>
</ul>
<a name="tr(org.semanticweb.owlapi.model.OWLEquivalentClassesAxiom)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tr</h4>
<pre>public&nbsp;org.semanticweb.owlapi.model.OWLAxiom&nbsp;tr(org.semanticweb.owlapi.model.OWLEquivalentClassesAxiom&nbsp;ax)</pre>
</li>
</ul>
<a name="isSkippable(org.semanticweb.owlapi.model.OWLClass)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isSkippable</h4>
<pre>public&nbsp;boolean&nbsp;isSkippable(org.semanticweb.owlapi.model.OWLClass&nbsp;c)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SpeciesMergeUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../owltools/mooncat/QuerySubsetGenerator.html" title="class in owltools.mooncat"><span class="strong">Prev Class</span></a></li>
<li><a href="../../owltools/mooncat/SpeciesMergeUtil.UnmergeableOntologyException.html" title="class in owltools.mooncat"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?owltools/mooncat/SpeciesMergeUtil.html" target="_top">Frames</a></li>
<li><a href="SpeciesMergeUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
